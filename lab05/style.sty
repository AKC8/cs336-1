box-padding = 20px
box-border = 1px solid black
side-box-flex = 1 6 20%

body {
    font: 24px Helvetica
    background: #999999
    #main {
        min-height: 800px
        margin: 0px
        padding: 0px
        display: flex
        flex-flow: row
        article {
            padding: box-padding
            border: box-border
            background: #dddd88
            flex: 3 1 60%
            order: 2
        }
        nav {
            padding: box-padding
            border: box-border
            background: #ccccff
            text-align: right
            flex: side-box-flex
            order: 1
        }
        aside {
            padding: box-padding
            border: box-border
            background: #ccccff
            flex: side-box-flex
            order: 3
        }
    }
}

footer {
  font-size: 0.7em
}

header, footer {
    display: block
    padding: box-padding
    min-height: 100px
    border: box-border
    background: #ffeebb
}

/* Too narrow to support three columns */
@media all and (max-width: 640px) {
  body {
    #main {
        flex-direction: column
        nav aside header footer {
          min-height: 50px
        }
        nav {
          text-align: left
        }
    }
  }
}
